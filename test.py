import numpy as np 
flag = "py"
flag = "cublock"
# flag = "cu"
A = np.array([
    [1,        0,      0,0],
    [0.25,      1,     0,0],
    [0.875,0.1667,     1,0],
    [0.5,  0.4242,1.4545,1]
])

B = np.array([
    [8,   3,   1,  6],
    [0,8.25,4.75,5.5],
    [0,   0, 0.3333,-2.1667],
    [0,   0, 0,0.8181]
])
if flag == "cu":
  A = np.array([
      [1,        0,      0,0],
      [0.25,      1,     0,0],
      [0.5, 0.424242 ,     1,0],
      [0.875, 0.166667, 0.6875 ,1]
  ])
  
  B = np.array([
      [8,   3,   1,  6],
      [0,8.25,4.75,5.5],
      [0,   0, 0.484848, -2.33333 ],
      [0,   0, 0,        -0.5625 ]
  ])
  '''
  need to permute row 2,3
  '''
elif flag == "cublock":
  A = np.array([
      [1,        0,         0,0],
      [0.25,      1,        0,0],
      [0.5,     3.5,        1,0],
      [0.875, 1.375, 0.382743,1]
  ])
  
  B = np.array([
      [8,   3,       1,      6],
      [0,8.25,    4.75,    5.5],
      [0,   0, -14.125, -19.25],
      [0,   0,       0, -1.44469 ]
  ])

print(A@B)
U01 = np.array([
    [    1,      6],
    [  4.75,    5.5],
])
L00 = np.array([
    [    1,      0],
    [  0.25,     1],
])
print(L00@U01)
permute = np.array([
  [0,1],
  [1,0]
])
print(permute@L00@U01)

print(permute@L00)

L42 = np.array([
  [1,0],
  [0.25,1],
  [0.875,1.375],
  [0.5, 3.5]
])
U22 = np.array([
  [8,3],
  [0,8.25]
])
print(L42@U22)
# print(L00@U01@permute)

L00 = np.array([
  [8,     3],
  [0.25,  8.25],
])
L00 = np.array([
  [1,     0],
  [0.25,  1],
])
U01 = np.array([
  [1,   6],
  [4.75,5.5]
])
print(L00@U01)


A = np.array([
  [1,             0,      0,  0],
  [0.11111,       1,      0,  0],
  [0.88888,0.674419,      1,  0],
  [0.22222,0.744186,2.64474,  1]
])
B = np.array([
  [9,2,6,2],
  [0,4.77778,1.33333,0.77778],
  [0,0,1.76744,3.69767],
  [0,0,0,-7.80263]
])
print(A@B)